# پیامرسان خصوصی - PRD

## مسئله اصلی
ساخت یک پیامرسان زیبا و جذاب با تمام امکانات برای گفتگوی خصوصی بین دو کاربر

## معماری
- **Backend**: FastAPI + MongoDB + WebSocket
- **Frontend**: React + Tailwind CSS + Shadcn UI
- **احراز هویت**: JWT Token-based
- **Real-time**: WebSocket برای پیام‌های آنی

## کاربران هدف
- دو کاربر خصوصی برای گفتگوی امن

## نیازمندی‌های اصلی (ثابت)
1. احراز هویت با نام کاربری و رمز عبور
2. ارسال پیام متنی
3. ارسال عکس و فیلم
4. ریپلای روی پیام‌ها
5. ضبط و ارسال پیام صوتی
6. انتخاب ایموجی
7. تم تیره و روشن
8. نوتیفیکیشن درون سایت
9. نمایش وضعیت آنلاین/آفلاین

## امکانات پیاده‌سازی شده ✅
- [x] ثبت‌نام و ورود کاربر (2026-02-06)
- [x] صفحه چت با لیست کاربران (2026-02-06)
- [x] ارسال پیام متنی real-time (2026-02-06)
- [x] ارسال عکس و فیلم (2026-02-06)
- [x] ریپلای روی پیام‌ها (2026-02-06)
- [x] ضبط پیام صوتی (2026-02-06)
- [x] انتخاب ایموجی (2026-02-06)
- [x] تم تیره/روشن با قابلیت تغییر (2026-02-06)
- [x] نمایش وضعیت آنلاین/آفلاین (2026-02-06)
- [x] نمایش وضعیت پیام (ارسال/خوانده شده) (2026-02-06)
- [x] رابط کاربری فارسی RTL (2026-02-06)

## Backlog - اولویت‌بندی شده
### P0 (حیاتی) - تکمیل شده ✅
- همه موارد بالا

### P1 (مهم)
- [ ] Push notification (اعلان‌های push browser)
- [ ] ویرایش و حذف پیام
- [ ] Forward کردن پیام
- [ ] جستجو در پیام‌ها

### P2 (بهبود)
- [ ] آپلود آواتار کاربر
- [ ] استیکر
- [ ] Seen/Typing indicator با انیمیشن
- [ ] آرشیو پیام‌ها

## API Endpoints
- `POST /api/auth/register` - ثبت‌نام
- `POST /api/auth/login` - ورود
- `GET /api/auth/me` - اطلاعات کاربر
- `POST /api/auth/logout` - خروج
- `GET /api/users` - لیست کاربران
- `POST /api/conversations/{user_id}` - ایجاد/دریافت مکالمه
- `GET /api/messages/{conv_id}` - دریافت پیام‌ها
- `POST /api/messages/{conv_id}` - ارسال پیام
- `POST /api/upload/{conv_id}` - آپلود فایل
- `WS /ws/{token}` - WebSocket برای real-time

## کارهای بعدی
1. اضافه کردن push notification
2. ویرایش و حذف پیام
3. جستجو در پیام‌ها
4. آپلود آواتار کاربر
